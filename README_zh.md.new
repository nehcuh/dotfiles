# è·¨å¹³å° Dotfiles

![è·¨å¹³å°](logo.png)

é€‚ç”¨äº Linuxã€macOS å’Œ Windows çš„å®Œæ•´å¼€å‘ç¯å¢ƒé…ç½®ã€‚

## ç‰¹æ€§

### è·¨å¹³å°æ”¯æŒ
- **Linux**: Ubuntuã€Debianã€Archã€Fedora ç­‰
- **macOS**: æ‰€æœ‰æœ€æ–°ç‰ˆæœ¬ï¼ˆä½¿ç”¨ Homebrewï¼‰
- **Windows**: WSLã€MSYS2ã€åŸç”Ÿ PowerShell

### åŒ…ç®¡ç†
- **Linux**: aptã€pacmanã€dnfã€Homebrew
- **macOS**: Homebrew
- **Windows**: Scoopã€Winget

### åŒ…å«å·¥å…·
- **Shell**: å¸¦æœ‰ Zinit æ’ä»¶ç®¡ç†å™¨çš„ Zsh
- **ç»ˆç«¯**: å¸¦æœ‰ Oh My Tmux çš„ tmux
- **ç¼–è¾‘å™¨**: Neovimã€Vim
- **å®ç”¨å·¥å…·**: fzfã€ripgrepã€ezaã€batã€starshipã€zoxide
- **Git**: å¢å¼ºé…ç½®å’Œåˆ«å

## å‰ææ¡ä»¶

- Linuxã€macOSã€Windows (WSL/MSYS2)
- Gitã€Zsh/PowerShellã€curl/wget
- æ¨è: Neovimã€tmux
- å¯é€‰: Vim

## å¿«é€Ÿå¼€å§‹

### äº¤äº’å¼å®‰è£…ï¼ˆæ¨èï¼‰

**æ‰€æœ‰å¹³å°:**
```bash
# é€šç”¨å®‰è£…ç¨‹åºï¼ˆè‡ªåŠ¨æ£€æµ‹æ‚¨çš„ shellï¼‰
curl -fsSL https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/universal-install.sh | sh

# æˆ–ä½¿ç”¨ç‰¹å®š shell
curl -fsSL https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/interactive-install.sh | bash
curl -fsSL https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/interactive-install.sh | zsh
```

è¿™å°†å¯åŠ¨ä¸€ä¸ªäº¤äº’å¼å‘å¯¼ï¼Œè‡ªåŠ¨æ£€æµ‹æ‚¨çš„ shell å¹¶è®©æ‚¨é€‰æ‹©è¦å®‰è£…çš„å†…å®¹ã€‚

### ğŸ” Sudo æƒé™å¤„ç†

æ‰€æœ‰å®‰è£…è„šæœ¬éƒ½åŒ…å«å…¨é¢çš„ sudo æƒé™ç®¡ç†ï¼š

- **è‡ªåŠ¨æ£€æµ‹**: è„šæœ¬åœ¨éœ€è¦ä¹‹å‰æ£€æŸ¥ sudo è®¿é—®æƒé™
- **ç”¨æˆ·å‹å¥½æç¤º**: éœ€è¦å¯†ç è¾“å…¥æ—¶æä¾›æ¸…æ™°æŒ‡ç¤º
- **ä¼šè¯ç®¡ç†**: ä¿æŒ sudo ä¼šè¯æ´»è·ƒï¼Œé˜²æ­¢é•¿æ—¶é—´å®‰è£…è¿‡ç¨‹ä¸­è¶…æ—¶
- **ä¼˜é›…çš„é”™è¯¯å¤„ç†**: å¦‚æœ sudo å¤±è´¥ï¼Œæä¾›è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯å’Œæ‰‹åŠ¨æ‰§è¡Œå»ºè®®
- **è·¨å¹³å°æ”¯æŒ**: åœ¨ Linuxã€macOS å’Œ Windows (WSL/MSYS2) ä¸Šæ— ç¼å·¥ä½œ

**macOS ç”¨æˆ·**: å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç”¨æˆ·åœ¨ç³»ç»Ÿåå¥½è®¾ç½® > ç”¨æˆ·ä¸ç¾¤ç»„ä¸­æ‹¥æœ‰ç®¡ç†å‘˜æƒé™ã€‚

### ä¸€é”®å®‰è£…

**Linux å’Œ macOS:**
```bash
curl -fsSL https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/install.sh | bash

# æˆ–ä½¿ç”¨ POSIX å…¼å®¹ç‰ˆæœ¬:
curl -fsSL https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/install.sh | sh
```

**Windows:**
```powershell
# åœ¨ PowerShell ä¸­è¿è¡Œ
iwr -useb https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/install-windows-improved.ps1 | iex
```

### æ‰‹åŠ¨å®‰è£…

**Linux å’Œ macOS:**
```bash
git clone https://github.com/nehcuh/dotfiles.git ~/.dotfiles
cd ~/.dotfiles
./scripts/install.sh
```

**Windows:**
```powershell
git clone https://github.com/nehcuh/dotfiles.git ~/.dotfiles
cd ~/.dotfiles
./scripts/install-windows-improved.ps1
```

### ä½¿ç”¨ Make

```bash
git clone https://github.com/nehcuh/dotfiles.git ~/.dotfiles
cd ~/.dotfiles
make install
```

## è¯¦ç»†é…ç½®

### ğŸ–¥ï¸ ç³»ç»ŸåŒ…
**æ ¸å¿ƒå¼€å‘å·¥å…·:**
- **Neovim**: å…·æœ‰ LSP æ”¯æŒçš„ç°ä»£ã€å¯æ‰©å±•æ–‡æœ¬ç¼–è¾‘å™¨
- **Zed**: å¿«é€Ÿã€åä½œçš„ä»£ç ç¼–è¾‘å™¨
- **Tmux**: ç”¨äºä¼šè¯ç®¡ç†çš„ç»ˆç«¯å¤ç”¨å™¨
- **Git**: å¸¦æœ‰å¢å¼ºé…ç½®çš„ç‰ˆæœ¬æ§åˆ¶
- **Zsh**: å¼ºå¤§çš„ shellï¼Œå¸¦æœ‰ Zinit æ’ä»¶ç®¡ç†å™¨
- **Starship**: æç®€ã€å¿«é€Ÿã€å¯å®šåˆ¶çš„æç¤ºç¬¦

**ç°ä»£å‘½ä»¤è¡Œå·¥å…·:**
- **eza**: ç°ä»£ `ls` æ›¿ä»£å“ï¼Œå¸¦æœ‰å›¾æ ‡å’Œ Git é›†æˆ
- **bat**: å¸¦æœ‰è¯­æ³•é«˜äº®å’Œ Git é›†æˆçš„ cat å…‹éš†
- **ripgrep**: å¿«é€Ÿé€’å½’æœç´¢ï¼Œæ›¿ä»£ `grep`
- **fd**: ç®€å•ã€å¿«é€Ÿä¸”ç”¨æˆ·å‹å¥½çš„ `find` æ›¿ä»£å“
- **fzf**: å‘½ä»¤è¡Œæ¨¡ç³ŠæŸ¥æ‰¾å™¨
- **zoxide**: æ›´æ™ºèƒ½çš„ `cd` å‘½ä»¤ï¼Œå­¦ä¹ æ‚¨çš„ä¹ æƒ¯
- **delta**: è¯­æ³•é«˜äº®çš„ Git åˆ†é¡µå™¨
- **yazi**: æé€Ÿç»ˆç«¯æ–‡ä»¶ç®¡ç†å™¨

**å¼€å‘å·¥å…·:**
- **Go**: Go ç¼–ç¨‹è¯­è¨€åŠ gopls
- **Rust**: Rust ç¼–ç¨‹è¯­è¨€åŠ rust-analyzer
- **Python**: Python è¯­è¨€æœåŠ¡å™¨ (basedpyright, pyrefly for Zed)
- **Node.js**: TypeScript å’Œ JavaScript è¯­è¨€æœåŠ¡å™¨
- **OrbStack**: macOS ä¸Šçš„ç°ä»£ Docker æ›¿ä»£å“
- **Java**: OpenJDK åŠ Maven å’Œ Gradle
- **C/C++**: GCCã€Clangã€CMake å’Œè°ƒè¯•å·¥å…·

**å®¹å™¨å¼€å‘:**
- **Dev Containers**: VS Code å¼€å‘å®¹å™¨æ”¯æŒ
- **Docker Compose**: å¤šå®¹å™¨å¼€å‘ç¯å¢ƒ
- **Ubuntu å¼€å‘ç¯å¢ƒ**: å®Œæ•´çš„ Ubuntu 24.04.2 LTS å¼€å‘å®¹å™¨

**ç³»ç»Ÿç›‘æ§:**
- **bottom**: æ›´å¥½çš„ `top`ï¼Œå¸¦æœ‰å›¾è¡¨å’Œ GPU ç›‘æ§
- **procs**: ç°ä»£ `ps` æ›¿ä»£å“
- **duf**: æ›´å¥½çš„ `df`ï¼Œå¸¦æœ‰å½©è‰²è¾“å‡º
- **dust**: æ›´ç›´è§‚çš„ `du` ç‰ˆæœ¬
- **hyperfine**: å‘½ä»¤è¡ŒåŸºå‡†æµ‹è¯•å·¥å…·
- **gping**: å¸¦å›¾å½¢çš„ ping

## ç®¡ç†

### äº¤äº’å¼ç®¡ç†
```bash
cd ~/.dotfiles
./scripts/interactive-install.sh  # äº¤äº’å¼å®‰è£…å‘å¯¼
```

### ä½¿ç”¨ stow.sh
```bash
cd ~/.dotfiles
./scripts/stow.sh install system zsh git tools vim nvim tmux
./scripts/stow.sh remove system zsh git tools vim nvim tmux
./scripts/stow.sh status
./scripts/stow.sh list
```

### ä½¿ç”¨ Make
```bash
cd ~/.dotfiles
make setup-python        # è®¾ç½® Python ç¯å¢ƒ
make setup-node          # è®¾ç½® Node.js ç¯å¢ƒ
make setup-dev           # è®¾ç½® Python å’Œ Node.js
make install             # å®‰è£…æ‰€æœ‰ dotfiles
make remove              # ç§»é™¤æ‰€æœ‰ dotfiles
make status              # æ£€æŸ¥å½“å‰çŠ¶æ€
make clean               # æ¸…ç†è¿‡æ—¶æ–‡ä»¶
make update              # æ›´æ–°ä»“åº“
```

## å¹³å°ç‰¹å®šè¯´æ˜

### Docker å¼€å‘ç¯å¢ƒ
- **Ubuntu 24.04.2 LTS**: å®¹å™¨ä¸­çš„å®Œæ•´å¼€å‘ç¯å¢ƒ
- **ç”¨æˆ·**: "huchen"ï¼Œå…·æœ‰ sudo æƒé™
- **åŒæ­¥é…ç½®**: æ‚¨çš„ dotfiles åœ¨å®¹å™¨å†…è‡ªåŠ¨å¯ç”¨
- **æŒä¹…å­˜å‚¨**: ä¸»ç›®å½•åœ¨å®¹å™¨é‡å¯ä¹‹é—´ä¿æŒä¸å˜
- **ç«¯å£æ˜ å°„**: å¸¸è§å¼€å‘ç«¯å£ (3000, 8000, 8080 ç­‰) å·²æ˜ å°„
- **ä½¿ç”¨æ–¹æ³•**: `docker-compose -f docker/docker-compose.ubuntu-dev.yml up -d`

### Windows
- éœ€è¦ Windows 10/11 å’Œ PowerShell 5.1+
- ä¸ Windows Terminal é…åˆæœ€ä½³
- åŒæ—¶æ”¯æŒ WSL å’ŒåŸç”Ÿ Windows ç¯å¢ƒ
- ä½¿ç”¨è¿æ¥ç‚¹ä½œä¸ºç¬¦å·é“¾æ¥

### Linux
- æ”¯æŒæ‰€æœ‰ä¸»è¦å‘è¡Œç‰ˆ
- è‡ªåŠ¨åŒ…ç®¡ç†å™¨æ£€æµ‹
- å¯é€‰ Linux Homebrew æ”¯æŒ

### macOS
- éœ€è¦ Xcode å‘½ä»¤è¡Œå·¥å…·
- ä½¿ç”¨ Homebrew è¿›è¡ŒåŒ…ç®¡ç†
- åŒ…å« Apple Silicon Mac æ”¯æŒ

## è®¾ç½®ä¸å®‰å…¨

### å‘å¸ƒåˆ° GitHub å‰

1. **æ›¿æ¢æ‰€æœ‰æ–‡ä»¶ä¸­çš„ `nehcuh`** ä¸ºæ‚¨çš„å®é™… GitHub ç”¨æˆ·å
2. **æ›´æ–° `dotfiles.conf`** ä¸­çš„ GitHub ç”¨æˆ·å
3. **åˆ›å»ºä¸ªäººé…ç½®æ–‡ä»¶**:
   ```bash
   cp stow-packs/git/.gitconfig_local.template ~/.gitconfig_local
   # ç¼–è¾‘ ~/.gitconfig_local æ·»åŠ æ‚¨çš„å§“åå’Œé‚®ç®±
   ```

### é¦–æ¬¡è®¾ç½®

#### å¿«é€Ÿäº¤äº’å¼è®¾ç½®ï¼ˆæ¨èï¼‰
```bash
curl -fsSL https://raw.githubusercontent.com/nehcuh/dotfiles/main/scripts/interactive-install.sh | bash
```

#### æ‰‹åŠ¨è®¾ç½®
1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/nehcuh/dotfiles.git ~/.dotfiles
   cd ~/.dotfiles
   ```

2. **è¿è¡Œå®‰è£…ç¨‹åº**
   ```bash
   # Linux å’Œ macOS
   ./scripts/install.sh
   
   # Windows
   ./scripts/install-windows-improved.ps1
   ```

3. **é…ç½®ä¸ªäººä¿¡æ¯**
   ```bash
   # ç¼–è¾‘ git é…ç½®æ¨¡æ¿
   nano ~/.gitconfig_local
   ```

4. **é‡å¯ç»ˆç«¯** åº”ç”¨æ‰€æœ‰æ›´æ”¹

### å®‰å…¨æœ€ä½³å®è·µ

- **æ¨¡æ¿æ–‡ä»¶** ç”¨äºéœ€è¦ä¸ªäººä¿¡æ¯çš„é…ç½®
- **`.local` æ–‡ä»¶** åŒ…å«åœ¨ `.gitignore` ä¸­ï¼Œé˜²æ­¢æ„å¤–æäº¤
- **ä¸ªäººé…ç½®** åº”ä¿å­˜åœ¨ `~/.gitconfig_local`ã€`~/.zshrc.local`ã€`~/.tmux.conf.local`
- **API å¯†é’¥å’Œä»¤ç‰Œ** æ°¸è¿œä¸åº”æäº¤åˆ°ä»“åº“

## è‡ªå®šä¹‰

### ç¯å¢ƒå˜é‡

åœ¨ `~/.zshenv`ï¼ˆZSH æ¨èï¼‰ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

```bash
export PATH=/usr/local/sbin:$PATH
export PATH=$HOME/.rbenv/shims:$PATH
export PYTHONPATH=/usr/local/lib/python2.7/site-packages
```

### æœ¬åœ°é…ç½®

åœ¨è¿™äº›æœ¬åœ°æ–‡ä»¶ä¸­è®¾ç½®ä¸ªäººé…ç½®ï¼š

**Zsh:** `~/.zshrc.local`
```bash
# é¢å¤–çš„ zsh æ’ä»¶
zinit snippet OMZP::golang
zinit snippet OMZP::python
zinit snippet OMZP::ruby
zinit light ptavares/zsh-direnv
```

**Git:** `~/.gitconfig.local`
```bash
[commit]
    # ä½¿ç”¨ GPG ç­¾åæäº¤
    gpgsign = true

[user]
    name = æ‚¨çš„å§“å
    email = your.email@example.com
    signingkey = XXXXXXXX
```

**tmux:** `~/.tmux.conf.local`
```bash
# ä¸ªäºº tmux è®¾ç½®
set -g mouse on
set -g status-interval 5
```

### å¼€å‘ç¯å¢ƒä½¿ç”¨

**Python å¼€å‘:**
```bash
# ä½¿ç”¨ pyenv ç®¡ç† Python ç‰ˆæœ¬
pyenv versions                    # åˆ—å‡ºå·²å®‰è£…ç‰ˆæœ¬
pyenv install 3.11.0             # å®‰è£…ç‰¹å®šç‰ˆæœ¬
pyenv local 3.11.0               # ä¸ºå½“å‰ç›®å½•è®¾ç½®ç‰ˆæœ¬

# ä½¿ç”¨ direnv ç®¡ç†é¡¹ç›®ç‰¹å®šç¯å¢ƒ
echo 'layout python' > .envrc    # åˆ›å»º Python ç¯å¢ƒ
direnv allow                      # å…è®¸å½“å‰ç›®å½•çš„ direnv

# ä½¿ç”¨ uv å¿«é€ŸåŒ…ç®¡ç†
uv pip install package-name      # å¿«é€Ÿå®‰è£…åŒ…
```

**Node.js å¼€å‘:**
```bash
# ä½¿ç”¨ nvm ç®¡ç† Node.js ç‰ˆæœ¬
nvm list                          # åˆ—å‡ºå·²å®‰è£…ç‰ˆæœ¬
nvm install 18.17.0              # å®‰è£…ç‰¹å®šç‰ˆæœ¬
nvm use 18.17.0                  # ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬
echo '18.17.0' > .nvmrc          # ä¸ºé¡¹ç›®è®¾ç½®ç‰ˆæœ¬
nvm use                          # ä½¿ç”¨ .nvmrc ä¸­çš„ç‰ˆæœ¬
```

**Docker å¼€å‘:**
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
docker-compose -f docker/docker-compose.ubuntu-dev.yml up -d

# è®¿é—®ç¯å¢ƒ
docker-compose -f docker/docker-compose.ubuntu-dev.yml exec ubuntu-dev zsh

# åœæ­¢ç¯å¢ƒ
docker-compose -f docker/docker-compose.ubuntu-dev.yml down
```

## è‡´è°¢

æœ¬é¡¹ç›®å—åˆ°å„ç§ dotfiles ä»“åº“å’Œç¤¾åŒºçš„å¯å‘ã€‚
ç‰¹åˆ«æ„Ÿè°¢ï¼š
- [GNU Stow](https://www.gnu.org/software/stow/) æä¾›ç¬¦å·é“¾æ¥ç®¡ç†
- å¼€æºç¤¾åŒºæä¾›çš„ä¼˜ç§€å·¥å…·å’Œé…ç½®

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤é—®é¢˜å’Œæ‹‰å–è¯·æ±‚ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶